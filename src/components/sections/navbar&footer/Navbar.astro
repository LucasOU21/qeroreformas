---
//Import relevant dependencies
import ThemeIcon from "@components/ThemeIcon.astro";
import NavLink from "@components/ui/links/NavLink.astro";
import BrandLogo from "@components/BrandLogo.astro";

import esStrings from "@utils/navigation.ts";
import enStrings from "@utils/en/navigation.ts";

// Select the correct translation based on the page's lang prop:
const strings = Astro.currentLocale === "es" ? esStrings : enStrings;
const homeUrl = Astro.currentLocale === "es" ? "/" : "/en";
---

<!-- Main header component with modern styling -->
<header class="fixed inset-x-0 top-0 z-50 w-full">
  <!-- Navigation container with updated styling -->
  <nav
    class="mx-auto flex w-full items-center justify-between backdrop-blur-md bg-white/80 dark:bg-neutral-900/80 px-6 py-4 shadow-lg dark:shadow-neutral-800/30 border-b border-neutral-200/50 dark:border-neutral-700/50 lg:px-8"
    aria-label="Global"
  >
    <div class="flex lg:flex-1">
      <!-- Brand logo -->
      <a
        class="flex-none rounded-lg text-xl font-bold outline-none ring-blue-500 focus-visible:ring dark:ring-blue-400 dark:focus:outline-none transition-transform hover:scale-105"
        href={homeUrl}
        aria-label="Brand"
      >
        <BrandLogo class="h-14 w-14" width={120} height={120} />
      </a>
    </div>
    
    <!-- Collapse toggle for smaller screens -->
    <div class="flex lg:hidden">
      <button
        type="button"
        class="hs-collapse-toggle flex h-10 w-10 items-center justify-center rounded-full text-neutral-700 transition duration-300 hover:bg-neutral-100/80 disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-300 dark:hover:bg-neutral-800/80 dark:focus:outline-none"
        data-hs-collapse="#navbar-collapse-with-animation"
        aria-controls="navbar-collapse-with-animation"
        aria-label="Toggle navigation"
      >
        <svg
          class="h-5 w-5 flex-shrink-0 hs-collapse-open:hidden"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <line x1="3" x2="21" y1="6" y2="6"></line>
          <line x1="3" x2="21" y1="12" y2="12"></line>
          <line x1="3" x2="21" y1="18" y2="18"></line>
        </svg>
        <svg
          class="hidden h-5 w-5 flex-shrink-0 hs-collapse-open:block"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M18 6 6 18"></path>
          <path d="m6 6 12 12"></path>
        </svg>
      </button>
    </div>
    
    <!-- Contains navigation links -->
    <div
      id="navbar-collapse-with-animation"
      class="hs-collapse invisible hidden grow basis-full overflow-hidden transition-all duration-300 lg:visible lg:block lg:grow-0 lg:basis-auto"
    >
      <!-- Navigation links container -->
      <div
        class="mt-5 flex flex-col gap-y-4 lg:mt-0 lg:flex-row lg:items-center lg:gap-x-8 lg:gap-y-0 lg:ps-7"
      >
        <!-- Navigation links -->
        {strings.navBarLinks.map(link => (
          <NavLink url={link.url} name={link.name} />
        ))}

        <!-- ThemeIcon component -->
        <span class="mt-3 inline-block lg:mt-0">
          <ThemeIcon />
        </span>
      </div>
    </div>
  </nav>
</header>

<!--Import the necessary Collapse and Overlay plugins-->
<script>
  import "@preline/collapse/index.js";
  import "@preline/overlay/index.js";
</script>